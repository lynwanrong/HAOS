esphome:
  name: ha-dc-motor
  friendly_name: HA-DC-Motor

esp32:
  board: esp32dev
  framework:
    type: esp-idf
    version: 5.4.2

# Enable logging
logger:
  level: INFO
# Enable Home Assistant API
api:
  encryption:
    key: "s0d6/5mFm385z+vs5UPKA5RYJYWAEQE60mIfKaa9l3M="

ota:
  - platform: esphome
    password: "2eb4cd6350ad8a7ad80bae1e913cb79e"

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password

  # Enable fallback hotspot (captive portal) in case wifi connection fails
  ap:
    ssid: "Ha-Dc-Motor Fallback Hotspot"
    password: "ih0qlhyig8Hl"

captive_portal:
    
web_server:
  port: 80

output:
  - platform: ledc
    id: motor_reverse_pin
    pin: 25

  - platform: ledc
    id: motor_forward_pin
    pin: 26



fan:
  - platform: hbridge
    id: my_fan
    name: "DC Motor"
    pin_a: motor_forward_pin
    pin_b: motor_reverse_pin
    # enable_pin: motor_enable
    decay_mode: slow   # slow decay mode (braking) or fast decay (coasting)


binary_sensor:
  - platform: gpio
    pin: 
      number: 33
      mode:
        input: true
        pullup: true
    name: "Endstop 1"
    # filters:
    #   - invert:

  - platform: gpio
    pin:
      number: 32
      mode:
        input: true
        pullup: true
    name: "Endstop 2"
    # filters:
    #   - invert: